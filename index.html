<html>
	<head>
		<title>Slothmachine Game Engine 0.666</title>
		<script src="src/slothmachine.js"></script>
		<script src="src/renderer/canvas.js"></script>
		<script src="src/renderer/shader.js"></script>
		<script src="src/entity.js"></script>

		<script id="default-vertex">
			attribute vec4 Position;

			void main()
			{
				gl_Position = Position;
			}
		</script>
		<script id="default-fragment">
			precision mediump float;

			void main()
			{
				gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
			}
		</script>

	</head>
	<body>
		<canvas id="game" width="800" height="600"></canvas>
		<script type="text/javascript">
		    var fps = 60;
			var game = new SlothMachine("game");

			//init the engine and it's components
			game.init();

			//create shaders and shit so we can draw stuff on screen and see if it works
			var gl = game.renderer.context;
			var spaceship = new Entity();
			spaceship.mesh = [0.0, 0.0,
							  0.1, 0.1,
							  0.2, 0.0];
			spaceship.shader = new Shader(gl, "default");
			spaceship.init(gl);

			//start the game
			function gameLoop(){
				game.update();
				spaceship.draw(gl);

				setTimeout(function() {
					gameLoop();
				}, fps / 1000);
			};

			gameLoop();

		</script>
	</body>
</html>
